import{u as _,a as S}from"./index.7d0c1f08.js";import{u as C,S as E,O as z}from"./OptionsList.4f9ee896.js";import{_ as B,T}from"./index.2ee374ea.js";import{u as O}from"./vuex.73836bcb.js";import{M as R}from"./mockjs.2f0e7c0b.js";import{d as A,a as y,c as L,K as r,X as I,E as P,M as U,x as V,O as w,H as t,L as n,h as k}from"./@vue.ae646f9b.js";import{G as $}from"./naive-ui.0fcc236d.js";import"./@vicons.8c7e6d22.js";import"./vue-router.50e08404.js";import"./axios.3fb31503.js";import"./jsencrypt.0f2cb58d.js";import"./nprogress.89e9266f.js";import"./date-fns.dd60f53e.js";import"./vooks.06bce981.js";import"./evtd.1b0caf17.js";import"./treemate.dd41bee4.js";import"./vdirs.4c45093a.js";import"./vueuc.0528993b.js";import"./seemly.e92b3d25.js";import"./@css-render.35e4c47d.js";import"./resize-observer-polyfill.8deb1e21.js";import"./css-render.7bbe45e9.js";import"./@emotion.6322e2ae.js";import"./async-validator.65fa9bcc.js";import"./lodash-es.481a7ca2.js";import"./date-fns-tz.a3874196.js";const{Random:s}=R;function M(){let e=[];const a=s.natural(0,20);return e=new Array(a).fill("").map(()=>({id:s.string(5),name:s.cname(),avatar:s.image("100x100",s.color(),"#FFF","png",s.cfirst()),address:s.city(!0),startTime:s.date(),endTime:s.date(),createTime:s.date()})),{list:e,total:a}}const N=A({name:"BaseList",setup(){const e=O(),a=y();let c=_({name:"",startTime:null,endTime:null,createTime:null});function F(){d()}function j(){console.log("\u91CD\u7F6E"),a.value.restoreValidation(),Object.keys(c).forEach(o=>c[o]="")}function D(){}function f(){}const m=S([{type:"selection"},{title:"id",key:"id",width:80},{title:"\u540D\u79F0",key:"name",width:80},{title:"\u5934\u50CF",key:"avatar",width:120,render:(o,b)=>k($,{src:o.avatar})},{title:"\u5730\u5740",key:"address",width:160},{title:"\u5F00\u59CB\u65F6\u95F4",key:"startTime",width:180},{title:"\u7ED3\u675F\u65F6\u95F4",key:"endTime",width:180},{title:"\u521B\u5EFA\u65E5\u671F",key:"createTime",width:180},{title:"\u64CD\u4F5C",key:"options",width:120,fixed:"right",align:"center",render:(o,b)=>k(T,{onView:d,onEdit:g,onDel:h})}]);let i=_({list:[],total:0});L(()=>e.state.admin.tableTotal);let l=_({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],itemCount:i.total,onChange:o=>{l.page=o},onPageSizeChange:o=>{console.log(o),l.pageSize=o,l.page=1}});d.call(e);function d(){const o=M();i.list=o.list,i.total=o.total,l.itemCount=i.total}function g(){}function h(){}function v(){p.value=!p.value}let p=y(!1);return{columns:m,tableInfo:i,search:F,reset:j,formRef:a,formData:c,add:D,del:f,triggerSearchForm:v,searchFormShow:p,pagination:l,useRowKey:C}},components:{TableOptions:T,SearchOptions:E,OptionsList:z}}),K={class:"container shadow"},q={class:"search-form"},G={class:"pagin"};function H(e,a,c,F,j,D){const f=r("n-input"),m=r("n-form-item"),i=r("n-grid-item"),l=r("n-date-picker"),d=r("search-options"),g=r("n-grid"),h=r("n-form"),v=r("options-list"),p=r("n-data-table"),o=r("n-pagination"),b=I("search-form");return P(),U("div",K,[V(w("div",q,[t(h,{inline:"","label-placement":"left","label-width":120,ref:"formRef",model:e.formData},{default:n(()=>[t(g,{cols:"2 900:3 1200:4"},{default:n(()=>[t(i,null,{default:n(()=>[t(m,{label:"\u59D3\u540D",path:"name"},{default:n(()=>[t(f,{type:"text",placeholder:"\u8BF7\u8F93\u5165",value:e.formData.name,"onUpdate:value":a[0]||(a[0]=u=>e.formData.name=u),clearable:""},null,8,["value"])]),_:1})]),_:1}),t(i,null,{default:n(()=>[t(m,{label:"\u5F00\u59CB\u65F6\u95F4",path:"startTime"},{default:n(()=>[t(l,{type:"datetime",placeholder:"\u8BF7\u9009\u62E9",value:e.formData.startTime,"onUpdate:value":a[1]||(a[1]=u=>e.formData.startTime=u),clearable:""},null,8,["value"])]),_:1})]),_:1}),t(i,null,{default:n(()=>[t(m,{label:"\u7ED3\u675F\u65F6\u95F4",path:"endTime"},{default:n(()=>[t(l,{type:"datetime",placeholder:"\u8BF7\u9009\u62E9",value:e.formData.endTime,"onUpdate:value":a[2]||(a[2]=u=>e.formData.endTime=u),clearable:""},null,8,["value"])]),_:1})]),_:1}),t(i,null,{default:n(()=>[t(m,{label:"\u521B\u5EFA\u65E5\u671F",path:"createTime"},{default:n(()=>[t(l,{type:"date",placeholder:"\u8BF7\u9009\u62E9",value:e.formData.createTime,"onUpdate:value":a[3]||(a[3]=u=>e.formData.createTime=u),clearable:""},null,8,["value"])]),_:1})]),_:1}),t(i,null,{default:n(()=>[t(m,{label:" "},{default:n(()=>[t(d,{onSearch:e.search,onReset:e.reset},null,8,["onSearch","onReset"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])],512),[[b,e.searchFormShow]]),t(v,{onAdd:e.add,onDel:e.del,onTriggerSearchForm:e.triggerSearchForm},null,8,["onAdd","onDel","onTriggerSearchForm"]),t(p,{remote:"",ref:"table",columns:e.columns,"row-key":u=>u.id,data:e.tableInfo.list,"scroll-x":1200},null,8,["columns","row-key","data"]),w("div",G,[t(o,{"item-count":e.pagination.itemCount,"page-sizes":e.pagination.pageSizes,showSizePicker:"","on-update:page":e.pagination.onChange,"on-update:page-size":e.pagination.onPageSizeChange},null,8,["item-count","page-sizes","on-update:page","on-update:page-size"])])])}var _e=B(N,[["render",H]]);export{_e as default,M as initTableData};
